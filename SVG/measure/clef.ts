import { Clef, ClefShape } from "@/types/music";
import { SVGData } from "@/types/svg";
import { getSVGAspectRatio } from "@/utils/svg";

type ClefInfo = { centerY: number; shape: ClefShape };

type ClefSVG = SVGData & { centerYOffset: number };

type ClefInfoSVG = ClefSVG & { centerY: number };

const clefShapeSVG: Record<ClefShape, ClefSVG> = {
  bass: {
    paths: [
      "M418.1,358.51c-21.54,36.84-49.84,68.15-79.94,98.1-31.91,31.75-67.45,58.92-104.22,84.58-53.98,37.67-111.65,68.95-170.81,97.57-16.65,8.06-33.41,15.88-50.02,24-3.63,1.77-5.49,1.26-7.54-2.3-8.1-14.06-8.18-13.92,5.26-22.17,37.21-22.84,73.84-46.58,108.31-73.44,26.15-20.38,51.92-41.23,75.4-64.77,41.04-41.16,75.47-87.03,100.6-139.62,18.74-39.26,31.6-80.43,36.37-123.61,2.96-26.81,2.21-53.9-3.38-80.61-5.18-24.76-12.24-48.9-26.06-70.29-20.88-32.33-50.08-51.38-89.37-53.01-20.83-.87-41.53-.7-61.96,4.66-25.04,6.57-42.99,22.12-56.15,43.58-6.08,9.9-10.95,20.57-15.96,31.09-4.52,9.52,1.61,17.7,12.11,16.38,4.78-.6,9.49-1.78,14.22-2.79,25.79-5.53,49.18.62,70.9,14.64,12.55,8.1,23.55,17.95,28.24,32.56,6.26,19.46,6.57,38.53-6.24,56.2-17.22,23.73-41.85,32.38-69.53,34.8-24.2,2.11-46.71-3.34-67.17-16.57-12.51-8.1-22.22-18.73-26.68-33.2-3.96-12.84-8.6-25.72-10.45-38.93-4.05-28.83,2.53-55.81,17.43-80.93C66.23,52.66,102.8,25.97,147.86,9.76,172.47.91,197.92-.61,223.73.19c54.55,1.69,104.88,16.57,148.93,49.33,22.6,16.8,39.5,38.91,52.77,63.81,20.21,37.93,29.54,78.32,28.27,120.32,2.41,46.31-13.21,86.58-35.6,124.86Z",
      "M528.2,338.97c-23.31,1.39-44.16-14.46-46.92-41.42-2.8-27.39,21.92-48.26,43.5-46.94,22.65-1.36,43.87,17.3,45.12,39.66,1.52,27.14-15.7,47.14-41.7,48.7Z",
      "M530.87,157.02c-23.57,1.32-43.94-14.84-46.61-41.17-2.6-25.67,16.6-45.53,43.7-47.16,22.51-1.35,43.57,17.36,44.9,39.9,1.58,26.87-15.87,46.96-41.99,48.43Z",
    ],
    viewBox: [0, 0, 569.99, 663.75],
    centerYOffset: 0.15,
  },
  alto: {
    paths: [
      "M124.95,138.6c4.36,18.51-.77,34.54-14.98,47.22-14.7,13.13-37.19,12.83-51.93-.19-5.24-4.63-7.81-10.2-6.63-17.24,1.65-9.83,11.75-14.53,20.02-9.32,6.51,4.1,7.45,9.18,2.87,15.39-2.35,3.19-5.68,6.46-3.12,10.65,2.54,4.14,7.22,3.47,11.32,3.05,8.03-.83,12.63-6.17,15.64-12.99,4.74-10.73,5.66-22.11,4.56-33.63-.45-4.76-1.18-9.6-2.66-14.11-2.23-6.78-6.92-11.38-14.46-11.8-7.96-.44-14.83,1.62-18.53,9.62-1.66,3.6-3.37,7.17-5.31,11.29-10.92-25.41-13.93-30.37-22.05-36.09v94.37h-8.58V.94h8.35v91.52c13.03-9.27,16.29-23.58,23.24-35.89,1.77,3.61,3.02,7.04,4.99,9.99,2.37,3.55,4.9,7.21,8.14,9.9,7.74,6.43,18.52,4.06,22.26-5.24,2.43-6.03,3.67-12.71,4.44-19.21,1.3-10.98.15-21.89-3.57-32.36-3.15-8.86-12.05-14.48-21.42-13.64-2.19.19-4.55,1.1-6.37,2.34-2.89,1.98-3.52,4.73-.89,7.6.67.73,1.36,1.44,2.04,2.17,4.45,4.68,5.36,8.57,3,12.88-2.48,4.52-8.25,6.82-14.27,5.69-5.19-.98-9.72-4.96-9.35-10.08.35-4.7,1.61-10.07,4.36-13.71C64.29,2.02,75.91-1.89,89.18.84c34.4,7.09,44.87,36.71,32.96,63.91-6.94,15.87-23.19,23.15-41.91,20.17-10.17-1.62-15.07,3.09-13.91,13.36.66,5.76,3.94,8.66,9.82,9.19,5.76.53,11.63.87,17.22,2.25,15.66,3.85,27.69,12.34,31.59,28.88Z",
      "M0 1.25h21.24v193.71H0Z",
    ],
    viewBox: [0, 0, 126.86, 195.53],
    centerYOffset: 0,
  },
  treble: {
    paths: [
      "M175.64,470.03c36.41-18.43,59.65-67.08,51.44-107.24-5.71-27.94-24.06-45.66-47.95-58.53-11.2-6.04-23.49-8.12-36.21-7.3-2.76.18-5.52.34-8.47.51-4.21-19.4-8.23-38.44-12.56-57.41-.91-3.98-.07-6.69,2.52-9.81,18.99-22.9,35.66-47.33,46.81-75.13,13.96-34.83,19.34-70.59,10.35-107.61-3.66-15.07-9.58-29.18-21.59-39.74-11.05-9.7-24.19-10.57-35.41-1.21-6.39,5.33-12.2,11.98-16.48,19.11-16.37,27.27-23.37,57.01-21.7,88.89,1.31,24.76,6.67,48.8,11.84,72.9.67,3.1-.14,4.75-2.27,6.83-15.01,14.63-30.31,29.01-44.66,44.27-15,15.95-27.42,33.9-36.61,53.91-12.54,27.29-18.43,55.69-12.17,85.55,13.11,62.49,76.31,108.01,139.68,100.94,5.57-.62,11.09-1.72,17.01-2.65,3.6,17.11,7.12,34.04,10.72,50.94,2.82,13.2,3.25,26.46.75,39.72-7.49,39.7-35.68,51.62-73.21,43.09-4.73-1.08-9.12-3.58-12-8.7,2.22,0,3.87.11,5.5-.01,14.96-1.1,25.82-8.55,31.72-22.24,6.06-14.04,4.13-27.57-5.75-39.3-9.67-11.49-22.34-15.38-36.84-11.67-20.54,5.26-31.45,26.03-25.67,48.13,8.71,33.36,40.34,53.42,75.02,47.57,29.11-4.9,48.26-22.37,54.88-50.18,3.17-13.33,3.33-26.83.73-40.21-3.67-18.95-7.91-37.8-11.97-56.68-.62-2.89-1.04-4.92,2.55-6.74ZM108.91,88.64c5.39-14.35,13.3-26.94,26.02-35.76,4.54-3.14,9.92-5.44,15.24-6.95,6.77-1.91,10.76.58,13.25,7.19,4.62,12.26,4.33,24.92,1.89,37.47-7.21,36.93-25.32,67.28-55.86,90.52-7.66-30.96-12.11-61.64-.54-92.47ZM119.39,464.77c-51.79-6.17-88.39-48.45-87.26-100.71.38-17.81,5.14-34.7,16.61-48.27,19.73-23.37,40.64-45.73,61.86-69.42,4.01,18.95,7.76,36.71,11.55,54.61-1.96.85-3.48,1.46-4.96,2.18-28.22,13.62-46.66,34.78-50.63,66.81-1.3,10.52.82,20.65,5.66,30.02,10.66,20.58,29.11,31.02,50.25,38.05-14.77-11.74-28.24-23.82-27.13-45.3.66-12.93,2.22-25.22,10.3-35.79,6.21-8.11,14.48-13.03,25-15.83,8.48,40.17,16.87,79.86,25.34,119.94-12.16,4.04-24.33,5.17-36.59,3.71ZM168.66,456.01c-8.44-39.08-16.68-77.26-25.11-116.29,3.72.32,7,.32,10.16.91,35.98,6.79,55.11,38.23,45.59,74.65-4.06,15.48-11.2,28.81-25.21,37.54-1.53.96-3.11,1.83-5.43,3.19Z",
    ],
    viewBox: [0, 0, 228.73, 624.85],
    centerYOffset: -0.85,
  },
};

const celfInfo: Record<Clef, ClefInfo> = {
  treble: {
    centerY: 2,
    shape: "treble",
  },
  alto: {
    centerY: 4,
    shape: "alto",
  },
  bass: {
    centerY: 6,
    shape: "bass",
  },
  baritone: {
    centerY: 4,
    shape: "bass",
  },
  tenor: {
    centerY: 6,
    shape: "alto",
  },
  soprano: {
    centerY: 0,
    shape: "alto",
  },
};

export const getClefSVG = (clef: Clef): ClefInfoSVG => {
  const info = celfInfo[clef];
  const svg = clefShapeSVG[info.shape];
  return {
    centerY: info.centerY,
    centerYOffset: svg.centerYOffset,
    paths: svg.paths,
    viewBox: svg.viewBox,
  };
};

export const getClefAspectRatio = (clef: Clef) => {
  const { viewBox } = getClefSVG(clef);
  return getSVGAspectRatio(viewBox);
};
